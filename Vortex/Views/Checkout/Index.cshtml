@model Vortex.Models.CheckoutViewModel

<main class="container main-container p-4" style="max-width: 1200px;">
    <div class="container my-5">
        <h1 class="page-title text-center mb-5">THANH TOÁN</h1>
        <form asp-action="Pay" method="post">
            @Html.AntiForgeryToken()
            <div class="row g-5">
                <div class="col-lg-7">
                    <div class="card-base p-4">
                        <h4>Thông tin nhận hàng</h4>
                        <div class="row g-3 mt-2">
                            <div class="col-12">
                                <label for="fullName" class="form-label">Họ và tên</label>
                                <input type="text" class="form-control" id="fullName" name="Name" value="@Model.Name" required>
                            </div>
                            <div class="col-md-6">
                                <label for="phone" class="form-label">Số điện thoại</label>
                                <input type="tel" class="form-control" id="phone" name="Phone" value="@Model.Phone" required>
                            </div>
                            <div class="col-12">
                                <label for="address" class="form-label">Địa chỉ</label>
                                <input type="text" class="form-control" id="address" name="Address" value="@Model.Address" required>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-lg-5">
                    <div class="card-base p-4">
                        <h4>Đơn hàng của bạn</h4>
                        @{
                            var tempTotal = Model.Items.Sum(i => i.Subtotal);
                            var shippingFee = 30000m;
                        }
                        <div class="order-summary mt-3">
                            @foreach (var item in Model.Items)
                            {
                                <div class="summary-item d-flex justify-content-between align-items-center mb-3">
                                    <div class="d-flex align-items-center">
                                        <img src="@item.ProductImage" class="rounded" style="height:60px;" alt="@item.ProductTitle" />
                                        <div class="ms-3">
                                            <p class="mb-0">@item.ProductTitle</p>
                                            <small class="text-white">SL: @item.Quantity</small>
                                        </div>
                                    </div>
                                    <span>@item.Subtotal.ToString("N0")₫</span>
                                </div>
                            }
                        </div>
                        <hr>
                        <div class="d-flex justify-content-between mb-2">
                            <span>Tạm tính</span>
                            <span>@tempTotal.ToString("N0")₫</span>
                        </div>
                        <hr>
                        <div class="d-flex justify-content-between fw-bold fs-5">
                            <span>Tổng cộng</span>
                            <span>@Model.GrandTotal.ToString("N0")₫</span>
                        </div>
                    </div>
                    <div class="card-base p-4 mt-4">
                        <h4>Phương thức thanh toán</h4>
                        <div class="form-check mt-3">
                            <input class="form-check-input" type="radio" name="PaymentMethod" id="cod" value="COD" checked>
                            <label class="form-check-label" for="cod">
                                Thanh toán khi nhận hàng (COD)
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="PaymentMethod" id="bankTransfer" value="BankTransfer">
                            <label class="form-check-label" for="bankTransfer">
                                Thanh toán Momo
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="PaymentMethod" id="vnpay" value="VNPay">
                            <label class="form-check-label" for="vnpay">
                                Thanh toán qua VNPay
                            </label>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-add-to-cart btn-lg w-100 mt-4">ĐẶT HÀNG</button>
                </div>
            </div>
        </form>
    </div>
</main>