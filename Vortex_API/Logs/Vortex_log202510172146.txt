2025-10-17 21:46:06.886 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7161/api/Auth/login - application/json 53
2025-10-17 21:46:06.896 +07:00 [INF] Executing endpoint 'Vortex_API.Controllers.AuthController.Login (Vortex_API)'
2025-10-17 21:46:06.902 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Vortex_API.Model.DTO.LoginDTO) on controller Vortex_API.Controllers.AuthController (Vortex_API).
2025-10-17 21:46:06.919 +07:00 [INF] Login attempt for email: 1@gmail.com
2025-10-17 21:46:06.937 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[Balance], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-10-17 21:46:07.008 +07:00 [WRN] Login failed for email: 1@gmail.com
2025-10-17 21:46:07.012 +07:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-17 21:46:07.021 +07:00 [INF] Executed action Vortex_API.Controllers.AuthController.Login (Vortex_API) in 117.6635ms
2025-10-17 21:46:07.022 +07:00 [INF] Executed endpoint 'Vortex_API.Controllers.AuthController.Login (Vortex_API)'
2025-10-17 21:46:07.023 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7161/api/Auth/login - 401 null application/json; charset=utf-8 137.1195ms
2025-10-17 21:46:11.415 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7161/api/Auth/login - application/json 55
2025-10-17 21:46:11.418 +07:00 [INF] Executing endpoint 'Vortex_API.Controllers.AuthController.Login (Vortex_API)'
2025-10-17 21:46:11.420 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Vortex_API.Model.DTO.LoginDTO) on controller Vortex_API.Controllers.AuthController (Vortex_API).
2025-10-17 21:46:11.423 +07:00 [INF] Login attempt for email: 1@gmail.com
2025-10-17 21:46:11.436 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[Balance], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-10-17 21:46:11.521 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-10-17 21:46:11.531 +07:00 [INF] User logged in successfully: 1@gmail.com
2025-10-17 21:46:11.532 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-17 21:46:11.534 +07:00 [INF] Executed action Vortex_API.Controllers.AuthController.Login (Vortex_API) in 113.0176ms
2025-10-17 21:46:11.535 +07:00 [INF] Executed endpoint 'Vortex_API.Controllers.AuthController.Login (Vortex_API)'
2025-10-17 21:46:11.536 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7161/api/Auth/login - 200 null application/json; charset=utf-8 120.3269ms
2025-10-17 21:46:52.452 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7161/api/Payment/create-momo - application/json 19
2025-10-17 21:46:52.458 +07:00 [INF] Executing endpoint 'Vortex_API.Controllers.PaymentController.CreateMomoPayment (Vortex_API)'
2025-10-17 21:46:52.463 +07:00 [INF] Route matched with {action = "CreateMomoPayment", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateMomoPayment(Vortex_API.Model.DTO.PaymentRequest) on controller Vortex_API.Controllers.PaymentController (Vortex_API).
2025-10-17 21:46:52.468 +07:00 [INF] Creating MoMo payment for OrderId: 36
2025-10-17 21:46:52.498 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__dto_OrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[CreatedAt], [o].[Name], [o].[Phone], [o].[ShippingAddress], [o].[Status], [o].[TotalAmount], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[Id] = @__dto_OrderId_0
2025-10-17 21:46:52.934 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Payments] ([Amount], [CreatedAt], [MomoOrderId], [OrderId], [PayUrl], [PaymentMethod], [Status])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-10-17 21:46:52.948 +07:00 [INF] MoMo payment creation result for OrderId 36: Vortex_API.Model.DTO.PaymentResponse
2025-10-17 21:46:52.949 +07:00 [INF] Executing OkObjectResult, writing value of type 'Vortex_API.Model.DTO.PaymentResponse'.
2025-10-17 21:46:52.951 +07:00 [INF] Executed action Vortex_API.Controllers.PaymentController.CreateMomoPayment (Vortex_API) in 487.1101ms
2025-10-17 21:46:52.956 +07:00 [INF] Executed endpoint 'Vortex_API.Controllers.PaymentController.CreateMomoPayment (Vortex_API)'
2025-10-17 21:46:52.957 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7161/api/Payment/create-momo - 200 null application/json; charset=utf-8 509.3582ms
