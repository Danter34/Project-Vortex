2025-10-16 16:59:07.173 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7161/api/Auth/login - application/json 53
2025-10-16 16:59:07.185 +07:00 [INF] Executing endpoint 'Vortex_API.Controllers.AuthController.Login (Vortex_API)'
2025-10-16 16:59:07.193 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Vortex_API.Model.DTO.LoginDTO) on controller Vortex_API.Controllers.AuthController (Vortex_API).
2025-10-16 16:59:07.210 +07:00 [INF] Login attempt for email: 1@gmail.com
2025-10-16 16:59:07.224 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[Balance], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-10-16 16:59:07.324 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-10-16 16:59:07.334 +07:00 [INF] User logged in successfully: 1@gmail.com
2025-10-16 16:59:07.336 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-16 16:59:07.345 +07:00 [INF] Executed action Vortex_API.Controllers.AuthController.Login (Vortex_API) in 149.8561ms
2025-10-16 16:59:07.346 +07:00 [INF] Executed endpoint 'Vortex_API.Controllers.AuthController.Login (Vortex_API)'
2025-10-16 16:59:07.346 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7161/api/Auth/login - 200 null application/json; charset=utf-8 174.4865ms
2025-10-16 16:59:28.649 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7161/api/Order/my-orders - null null
2025-10-16 16:59:28.656 +07:00 [INF] Executing endpoint 'Vortex_API.Controllers.OrderController.GetMyOrders (Vortex_API)'
2025-10-16 16:59:28.657 +07:00 [INF] Route matched with {action = "GetMyOrders", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyOrders() on controller Vortex_API.Controllers.OrderController (Vortex_API).
2025-10-16 16:59:28.659 +07:00 [INF] Fetching orders for user d96541fd-a475-4304-b4a5-f34d39e49887.
2025-10-16 16:59:28.679 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[Name], [t].[Phone], [t].[ShippingAddress], [t].[Status], [t].[TotalAmount], [t].[UserId], [t0].[Id], [t0].[OrderId], [t0].[ProductId], [t0].[Quantity], [t0].[UnitPrice], [t0].[Id0], [t0].[AverageRating], [t0].[CategoryId], [t0].[CreatedAt], [t0].[Description], [t0].[IsHot], [t0].[IsNew], [t0].[Price], [t0].[StockQuantity], [t0].[Title], [t0].[Id1], [t0].[FileDescription], [t0].[FileExtension], [t0].[FileName], [t0].[FilePath], [t0].[FileSizeInBytes], [t0].[ProductId0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[Name], [o].[Phone], [o].[ShippingAddress], [o].[Status], [o].[TotalAmount], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[UserId] = @__userId_0
    ORDER BY [o].[CreatedAt] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [o0].[Id], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[UnitPrice], [p].[Id] AS [Id0], [p].[AverageRating], [p].[CategoryId], [p].[CreatedAt], [p].[Description], [p].[IsHot], [p].[IsNew], [p].[Price], [p].[StockQuantity], [p].[Title], [i].[Id] AS [Id1], [i].[FileDescription], [i].[FileExtension], [i].[FileName], [i].[FilePath], [i].[FileSizeInBytes], [i].[ProductId] AS [ProductId0]
    FROM [OrderItems] AS [o0]
    INNER JOIN [Products] AS [p] ON [o0].[ProductId] = [p].[Id]
    LEFT JOIN [Images] AS [i] ON [p].[Id] = [i].[ProductId]
) AS [t0] ON [t].[Id] = [t0].[OrderId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [t0].[Id], [t0].[Id0]
2025-10-16 16:59:28.683 +07:00 [INF] 10 orders retrieved for user d96541fd-a475-4304-b4a5-f34d39e49887.
2025-10-16 16:59:28.684 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Vortex_API.Model.DTO.OrderDTOView, Vortex_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-16 16:59:28.685 +07:00 [INF] Executed action Vortex_API.Controllers.OrderController.GetMyOrders (Vortex_API) in 27.233ms
2025-10-16 16:59:28.686 +07:00 [INF] Executed endpoint 'Vortex_API.Controllers.OrderController.GetMyOrders (Vortex_API)'
2025-10-16 16:59:28.687 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7161/api/Order/my-orders - 200 null application/json; charset=utf-8 38.5961ms
2025-10-16 16:59:55.942 +07:00 [INF] Request starting HTTP/2 PUT https://localhost:7161/api/Order/update-status/22 - application/json 9
2025-10-16 16:59:55.945 +07:00 [INF] Executing endpoint 'Vortex_API.Controllers.OrderController.UpdateOrderStatus (Vortex_API)'
2025-10-16 16:59:55.949 +07:00 [INF] Route matched with {action = "UpdateOrderStatus", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateOrderStatus(Int32, System.String) on controller Vortex_API.Controllers.OrderController (Vortex_API).
2025-10-16 16:59:55.954 +07:00 [INF] Admin updating status for order 22 to shipped.
2025-10-16 16:59:55.978 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[Name], [t].[Phone], [t].[ShippingAddress], [t].[Status], [t].[TotalAmount], [t].[UserId], [t0].[Id], [t0].[OrderId], [t0].[ProductId], [t0].[Quantity], [t0].[UnitPrice], [t0].[Id0], [t0].[AverageRating], [t0].[CategoryId], [t0].[CreatedAt], [t0].[Description], [t0].[IsHot], [t0].[IsNew], [t0].[Price], [t0].[StockQuantity], [t0].[Title]
FROM (
    SELECT TOP(1) [o].[Id], [o].[CreatedAt], [o].[Name], [o].[Phone], [o].[ShippingAddress], [o].[Status], [o].[TotalAmount], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[Id] = @__orderId_0
) AS [t]
LEFT JOIN (
    SELECT [o0].[Id], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[UnitPrice], [p].[Id] AS [Id0], [p].[AverageRating], [p].[CategoryId], [p].[CreatedAt], [p].[Description], [p].[IsHot], [p].[IsNew], [p].[Price], [p].[StockQuantity], [p].[Title]
    FROM [OrderItems] AS [o0]
    INNER JOIN [Products] AS [p] ON [o0].[ProductId] = [p].[Id]
) AS [t0] ON [t].[Id] = [t0].[OrderId]
ORDER BY [t].[Id], [t0].[Id]
2025-10-16 16:59:56.042 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Orders] SET [Status] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-10-16 16:59:56.053 +07:00 [INF] Order 22 status updated to shipped successfully.
2025-10-16 16:59:56.054 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType4`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Vortex_API.Model.Domain.Order, Vortex_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-16 16:59:56.059 +07:00 [INF] Executed action Vortex_API.Controllers.OrderController.UpdateOrderStatus (Vortex_API) in 108.692ms
2025-10-16 16:59:56.059 +07:00 [INF] Executed endpoint 'Vortex_API.Controllers.OrderController.UpdateOrderStatus (Vortex_API)'
2025-10-16 16:59:56.060 +07:00 [INF] Request finished HTTP/2 PUT https://localhost:7161/api/Order/update-status/22 - 200 null application/json; charset=utf-8 118.4336ms
